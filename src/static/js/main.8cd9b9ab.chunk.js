(this["webpackJsonpdelicia-event-desk"]=this["webpackJsonpdelicia-event-desk"]||[]).push([[0],{116:function(e){e.exports=JSON.parse('{"name":"delicia-event-desk","version":"1.0.0","private":true,"dependencies":{"@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","antd":"^4.13.1","axios":"^0.21.1","chart.js":"^2.9.4","history":"^5.0.0","moment":"^2.29.1","react":"^17.0.1","react-chartjs-2":"^2.11.1","react-dom":"^17.0.1","react-router-dom":"6.0.0-beta.0","react-scripts":"4.0.3","web-vitals":"^1.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},213:function(e,t,a){},325:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(35),i=a.n(r),c=(a(213),a(214),a(29)),o=a(30),l=a(71),j=a(32),d=a(31),u=a(74),h=a(23),b=a(3),f=function(e){var t=e.path,a=e.exact,n=e.element;return!!localStorage.getItem("isAuthenticated")?Object(b.jsx)(h.b,{path:t,exact:a,element:n}):Object(b.jsx)(h.a,{to:"/login"})},m=a(344),p=a(82),O=a(356),g=a(357),x=a(358),y=a(139),v=a(24),k=a.n(v),w=a(116),D=a(160),S=a(33),C=a(44),T=a(106),_=a(347),I=a(205),Y=a(349),R=a(346),M=a(350),E=a(41),P=a(135),F=a(137),W=a(21),N=a.n(W),A={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},q={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},L=T.a.Option,B=function(e){var t=_.a.useForm(),a=Object(C.a)(t,1)[0],s=Object(n.useState)(""),r=Object(C.a)(s,2),i=r[0],c=r[1];return Object(b.jsxs)(_.a,Object(S.a)(Object(S.a)({},A),{},{form:a,name:"workregistration",onFinish:function(t){var a=k()(new Date(t.date)).format("YYYY-MM-DD HH:mm");N.a.post("http://localhost:4000/v1.0/work-management/creatework",{workName:t.workName,date:a,place:t.place,workType:t.workType,area:t.area,estimate:t.estimate},{headers:{"Content-Type":"application/json"}}).then((function(t){201===t.status?(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.changeTab("work-details")):I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})})).catch((function(e){I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},scrollToFirstError:!0,children:[Object(b.jsx)(_.a.Item,{name:"workName",label:"Work Name",rules:[{required:!0,message:"Please input Work Name!"}],children:Object(b.jsx)(Y.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"date",label:"Date",rules:[{type:"date",message:"The input is not valid date!"},{required:!0,message:"Please input date!"}],children:Object(b.jsx)(R.a,{format:"DD-MM-YYYY",style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"place",label:"Place",rules:[{required:!0,message:"Please input place!"}],children:Object(b.jsx)(Y.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"workType",label:"Work Type",rules:[{required:!0,message:"Please input work type!"}],children:Object(b.jsxs)(T.a,{placeholder:"Select work type",onChange:function(e){c(e)},style:{width:350},children:[Object(b.jsx)(L,{value:"panthal",children:"Panthal"}),Object(b.jsx)(L,{value:"mandapam",children:"Mandapam"}),Object(b.jsx)(L,{value:"rental",children:"Rental"})]})}),"panthal"===i&&Object(b.jsx)(_.a.Item,{name:"area",label:"Area (sq.ft)",rules:[{required:!0,message:"Please input area!"}],children:Object(b.jsx)(M.a,{onBlur:function(e){var t=6*e.target.value;a.setFieldsValue({estimate:t})},style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"estimate",label:"Estimate Amount",rules:[{required:!0,message:"Please input Estimate!"}],children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},q),{},{children:Object(b.jsx)(E.a,{style:{width:350},type:"primary",htmlType:"submit",children:"Register Work"})}))]}))},K=a(345),z=a(351),H=a(354),U=a(107),G=a(352),V=a(95),J=a(57),Q=a(353),X=a(348),Z=a(195),$=(a(325),function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={totalExpence:0,estimate:n.props.workData.work_estimate,chartData:{}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.workData.work_id;N.a.get("http://localhost:4000/v1.0/work-management/workStatistics/".concat(t)).then((function(t){var a=t.data.expenceByCategory,n=[],s=[];a.forEach((function(e){n.push(e.expenceCategory),s.push(e.expenceAmount)})),e.setState({totalExpence:t.data.totalExpence,chartData:{labels:n,datasets:[{label:"Category",backgroundColor:["#9933ff","#ff33ff","#ebff33","#5fff33","#33eeff","#ff3385"],hoverBackgroundColor:["#6600cc","#cc00cc","#b8cc00","#3acc00","#00bbcc","#cc0052"],data:s}]}})}))}},{key:"drawerTitle",value:function(){return"".concat(this.props.workData.work_name," (").concat(this.props.workData.work_place,")")}},{key:"calculateMargin",value:function(){var e=this.state,t=e.totalExpence;return e.estimate-t}},{key:"render",value:function(){var e=this.state,t=e.totalExpence,a=e.chartData,n=e.estimate;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(G.a,{width:800,placement:"right",closable:!0,onClose:this.props.onClose,visible:this.props.visible,title:this.drawerTitle(),children:[Object(b.jsx)("div",{children:Object(b.jsxs)(V.a,{gutter:16,children:[Object(b.jsx)(J.a,{span:8,children:Object(b.jsx)(Q.a,{className:"statistic-card",children:Object(b.jsx)(X.a,{title:"Estimate",value:n,precision:2,valueStyle:{color:"#3f8600"},prefix:"\u20b9"})})}),"rental"!==this.props.workData.work_type&&Object(b.jsx)(J.a,{span:8,children:Object(b.jsx)(Q.a,{className:"statistic-card",children:Object(b.jsx)(X.a,{title:"Expences",value:t,precision:2,valueStyle:{color:"#cf1322"},prefix:"\u20b9"})})}),Object(b.jsx)(J.a,{span:8,children:Object(b.jsx)(Q.a,{className:"statistic-card",children:Object(b.jsx)(X.a,{title:"Margin",value:this.calculateMargin(),precision:2,valueStyle:{color:"#0073e6"},prefix:"\u20b9"})})})]})}),Object(b.jsx)("div",{className:"statistic",children:Object.keys(a).length&&Object(b.jsx)(Z.Doughnut,{data:a,options:{title:{display:!0,text:"Expences by Category",fontSize:20},legend:{display:!0,position:"left"}}})})]})})}}]),a}(n.Component)),ee=a(343),te=a(355),ae=a(206),ne=K.a.Column,se=z.a.confirm,re=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).removeStaffSalaryData=function(e){var t=n.state.staffSalaryData,a=n.props.workData.work_id,s=n.props.workData.work_type,r=n.props.basicConfig,i=n.props.salarySettlement,c=t.filter((function(t){return t.entry_id!==e.entry_id})),o=[];c.forEach((function(e){o.push({staffId:e.staff_id,workType:e.work_type})})),o.length>0?N.a.post("http://localhost:4000/v1.0/work-management/deleteSettledSalarys/".concat(a),{staffDetails:o,staffShare:i.amount,basicConfig:r,workType:s}).then((function(e){console.log(e),201===e.status&&n.getstaffSalaryData()})):N.a.post("http://localhost:4000/v1.0/work-management/deleteSettledSalary/".concat(a)).then((function(e){console.log(e),201===e.status&&(n.getstaffSalaryData(),n.props.getInitialData())}))},n.deleteStaffSalary=function(e){se({title:"Are you sure delete this data?",icon:Object(b.jsx)(U.a,{}),content:"This action will delete staff details for ".concat(e.staff_name," and recalculate salary"),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){return n.removeStaffSalaryData(e)}})},n.state={staffSalaryData:[],staffSalaryDataLoading:!0},n.removeStaffSalaryData=n.removeStaffSalaryData.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getstaffSalaryData()}},{key:"getstaffSalaryData",value:function(){var e=this,t=this.props.workData.work_id;N.a.get("http://localhost:4000/v1.0/work-management/staffSalaryData/".concat(t)).then((function(t){200===t.status&&e.setState({staffSalaryData:t.data.staffSalaryData,staffSalaryDataLoading:!1})}))}},{key:"editStaffSalary",value:function(e){console.log("record",e),se({title:"Are you sure delete this task?",icon:Object(b.jsx)(U.a,{}),content:"Some descriptions",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})}},{key:"action",value:function(e){var t=this;return Object(b.jsxs)(H.b,{size:"middle",children:[Object(b.jsx)("a",{onClick:function(){return t.editStaffSalary(e)},children:"Edit"}),Object(b.jsx)("a",{onClick:function(){return t.deleteStaffSalary(e)},children:"Delete"})]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.staffSalaryData,n=t.staffSalaryDataLoading;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee.a,{orientation:"left",children:"Staff Salary Data"}),Object(b.jsxs)(K.a,{rowKey:function(e){return e.entry_id},loading:n,dataSource:a,bordered:!0,children:[Object(b.jsx)(ne,{title:"Staff Name",dataIndex:"staff_name"},"staff_id"),Object(b.jsx)(ne,{title:"Work Type",dataIndex:"work_type"},"entry_id"),Object(b.jsx)(ne,{title:"Amount",dataIndex:"amount"},"entry_id"),Object(b.jsx)(ne,{title:"Actions",render:function(t){return e.action(t)}},"action")]})]})}}]),a}(n.Component),ie=(a(338),T.a.Option),ce={labelCol:{span:8},wrapperCol:{span:16}},oe={wrapperCol:{offset:8,span:16}},le=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getInitialData=function(){var t=e.props.workData.work_id;N.a.all([N.a.get("http://localhost:4000/v1.0/work-management/salarySettled/".concat(t)),N.a.get("http://localhost:4000/v1.0/staff-management/staffdetails"),N.a.get("http://localhost:4000/v1.0/settings/basicconfig")]).then(N.a.spread((function(t,a,n){console.log(t),e.setState({salarySettlement:t.data.salarySettlement[0],staffData:a.data.staffDetails,basicConfig:n.data.basicConfig})})))},e.handleAddExpense=function(t){var a=e.props.workData.work_id,n=k()(new Date(t.date)).format("YYYY-MM-DD HH:mm");N.a.post("http://localhost:4000/v1.0/work-management/createExpence/".concat(a),{date:n,amount:t.amount,category:t.category,details:t.details}).then((function(t){201===t.status?(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.formRef.current.resetFields()):I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},e.handleStaffSalarySplit=function(t){var a=e.state,n=a.salarySettlement,s=a.basicConfig,r=e.props.workData.work_id,i=e.props.workData.work_type,c=n.amount,o=t.splitSalary;o.length>0&&N.a.post("http://localhost:4000/v1.0/work-management/salarySettlement/".concat(r),{staffDetails:o,staffShare:c,basicConfig:s,workType:i}).then((function(t){201===t.status?(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.props.onClose()):I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},e.totalSalaryVisibility=function(){e.setState({visibleSalary:!e.state.visibleSalary})},e.updateSalary=function(){var t=e.state.salarySettlement,a=e.props.workData.work_id,n=e.totalSalaryRef.current.value,s=t.expence_id;N.a.put("http://localhost:4000/v1.0/work-management/updateSalary/".concat(a),{amount:n,expenceId:s}).then((function(t){201===t.status?(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.getInitialData(),e.totalSalaryVisibility()):I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},e.staffPanel=function(){var t=e.state,a=t.staffData,n=t.visibleSalary,s=t.salarySettlement;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee.a,{orientation:"left",children:"Modify Staff's Salary"}),Object(b.jsxs)(_.a,{name:"staffDetails",onFinish:e.handleStaffSalarySplit,children:[Object(b.jsxs)(_.a.Item,{name:"totalSalary",label:"Total Salary",children:[Object(b.jsx)(M.a,{ref:e.totalSalaryRef,disabled:n,style:{width:250},onBlur:e.updateSalary,value:s.amount}),Object(b.jsx)(E.a,{onClick:e.totalSalaryVisibility,style:{width:90,marginLeft:10},type:"default",children:"Edit"})]}),Object(b.jsx)(ee.a,{orientation:"left",children:"Split Staff Salary"}),Object(b.jsx)(_.a.List,{name:"splitSalary",children:function(e,t){var n=t.add,s=t.remove;return Object(b.jsxs)(b.Fragment,{children:[e.map((function(e){return Object(b.jsxs)(H.b,{align:"baseline",children:[Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},e),{},{label:"Staff Name",name:[e.name,"staffId"],fieldKey:[e.fieldKey,"staffId"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Missing staff name"}],children:Object(b.jsx)(T.a,{placeholder:"Select Staff",style:{width:200},children:a.map((function(e){return Object(b.jsx)(ie,{value:e.staff_id,children:"".concat(e.staff_name," (").concat(e.staff_phone_no,")")},e.staff_id)}))})})),Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},e),{},{label:"Work Type",name:[e.name,"workType"],fieldKey:[e.fieldKey,"workType"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Missing workType"}],children:Object(b.jsxs)(T.a,{placeholder:"Select category",style:{width:200},children:[Object(b.jsx)(ie,{value:"fullwork",children:"Full Work"}),Object(b.jsx)(ie,{value:"setup",children:"Set Up"}),Object(b.jsx)(ie,{value:"phaseout",children:"Phase Out"})]})})),Object(b.jsx)(te.a,{className:"dynamic-delete-button",onClick:function(){return s(e.name)}})]},e.key)})),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"dashed",block:!0,onClick:function(){return n()},style:{width:"100%",marginTop:"20px"},icon:Object(b.jsx)(ae.a,{}),children:"Add staff details"})})]})}}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"Submit"})})]})]})},e.state={salarySettlement:[],fetching:!1,staffData:[],visibleSalary:!0,basicConfig:[]},e.formRef=s.a.createRef(),e.totalSalaryRef=s.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getInitialData()}},{key:"render",value:function(){var e=this.state,t=e.salarySettlement,a=e.basicConfig;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(G.a,{width:800,placement:"right",closable:!0,onClose:this.props.onClose,visible:this.props.visible,title:"Expense",children:[Object(b.jsxs)(_.a,Object(S.a)(Object(S.a)({},ce),{},{layout:"horizontal",name:"addExpense",onFinish:this.handleAddExpense,ref:this.formRef,children:[Object(b.jsx)(_.a.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please input date!"}],children:Object(b.jsx)(R.a,{format:"DD-MM-YYYY",style:{width:350}})}),Object(b.jsx)(_.a.Item,{label:"Expense Details",name:"details",rules:[{required:!0,message:"Please input details!"}],children:Object(b.jsx)(Y.a,{placeholder:"Details",style:{width:350}})}),Object(b.jsx)(_.a.Item,{label:"Expense Category",name:"category",rules:[{required:!0,message:"Please select category !"}],children:Object(b.jsxs)(T.a,{placeholder:"Select category",style:{width:350},children:[Object(b.jsx)(ie,{value:"fuel-charge",children:"Fuel Charge"}),Object(b.jsx)(ie,{value:"food",children:"Food"}),Object(b.jsx)(ie,{value:"rent",children:"Rent"}),Object(b.jsx)(ie,{value:"purchase",children:"Purchases"}),Object(b.jsx)(ie,{value:"others",children:"Others"})]})}),Object(b.jsx)(_.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input amount!"}],children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},oe),{},{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Add"})}))]})),0===t.settled&&this.staffPanel(),1===t.settled&&Object(b.jsx)(re,{workData:this.props.workData,basicConfig:a,salarySettlement:t,getInitialData:this.getInitialData})]})})}}]),a}(n.Component),je=K.a.Column,de=z.a.confirm,ue=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).workName=function(e){return"".concat(e.work_name," (").concat(e.work_place,")")},e.viewWorkDetailsClose=function(){e.setState({visibleWorkDetails:!1,workData:[]})},e.viewManageExpenseClose=function(){e.setState({visibleManageExpense:!1,workData:[]})},e.state={workDetails:[],isLoading:!0,visibleWorkDetails:!1,visibleManageExpense:!1,workData:[]},e.getWorkDetails=e.getWorkDetails.bind(Object(l.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getWorkDetails()}},{key:"getWorkDetails",value:function(){var e=this;N.a.get("http://localhost:4000/v1.0/work-management/workdetails").then((function(t){200===t.status&&e.setState({workDetails:t.data.workDetails,isLoading:!1})}))}},{key:"viewWorkDetails",value:function(e){this.setState({visibleWorkDetails:!0,workData:e})}},{key:"viewManageExpense",value:function(e){this.setState({visibleManageExpense:!0,workData:e})}},{key:"showWorkClosure",value:function(e){var t=this.getWorkDetails;de({title:"Do you want to close this work?",icon:Object(b.jsx)(U.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){N.a.put("http://localhost:4000/v1.0/work-management/updateWorkStatus/".concat(e.work_id)).then((function(e){200===e.status&&(I.a.open({message:e.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),t())}))},onCancel:function(){}})}},{key:"viewAction",value:function(e){var t=this;return"rental"!==e.work_type?Object(b.jsxs)(H.b,{size:"middle",children:[Object(b.jsx)("a",{onClick:function(){return t.viewManageExpense(e)},children:"Manage Expence"}),Object(b.jsx)("a",{onClick:function(){return t.showWorkClosure(e)},children:"Work Closure"})]}):Object(b.jsx)(H.b,{size:"middle",children:Object(b.jsx)("a",{onClick:function(){return t.showWorkClosure(e)},children:"Work Closure"})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.workDetails,n=t.isLoading,s=t.visibleWorkDetails,r=t.visibleManageExpense,i=t.workData;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(K.a,{rowKey:function(e){return e.work_id},loading:n,dataSource:a,children:[Object(b.jsx)(je,{title:"Work Name",render:function(t){return Object(b.jsx)(H.b,{children:Object(b.jsx)("a",{onClick:function(){return e.viewWorkDetails(t)},children:e.workName(t)})})}},"work_name"),Object(b.jsx)(je,{title:"Work Date",dataIndex:"work_date",render:function(e){return k()(e).format("DD MMM YYYY")}},"work_date"),Object(b.jsx)(je,{title:"Work Type",dataIndex:"work_type"},"work_type"),Object(b.jsx)(je,{title:"Estimate Amount",dataIndex:"work_estimate"},"work_estimate"),Object(b.jsx)(je,{title:"Actions",render:function(t){return e.viewAction(t)}},"action")]}),s?Object(b.jsx)($,{visible:s,onClose:this.viewWorkDetailsClose,workData:i}):null,r?Object(b.jsx)(le,{visible:r,onClose:this.viewManageExpenseClose,workData:i}):null]})}}]),a}(n.Component),he=R.a.RangePicker,be=K.a.Column,fe=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSearchWork=function(t){if(t.dateRange){var a=k()(new Date(t.dateRange[0])).format("YYYY-MM-DD"),n=k()(new Date(t.dateRange[1])).format("YYYY-MM-DD");N.a.get("http://localhost:4000/v1.0/work-management/workhistory",{params:{dateFrom:a,dateTo:n}}).then((function(t){console.log(t),e.setState({workDetails:t.data.workDetails})}))}},e.workName=function(e){return"".concat(e.work_name," (").concat(e.work_place,")")},e.viewWorkDetailsClose=function(){e.setState({visibleWorkDetails:!1,workData:[]})},e.state={workDetails:[],isLoading:!1,visibleWorkDetails:!1,visibleManageExpense:!1,workData:[]},e}return Object(o.a)(a,[{key:"viewWorkDetails",value:function(e){this.setState({visibleWorkDetails:!0,workData:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.workDetails,n=t.isLoading,s=t.visibleWorkDetails,r=t.workData;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(_.a,{name:"dateRange",layout:"inline",onFinish:this.handleSearchWork,children:[Object(b.jsx)(_.a.Item,{name:"dateRange",label:"Date Range",children:Object(b.jsx)(he,{})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}),Object(b.jsxs)(K.a,{rowKey:function(e){return e.work_id},loading:n,dataSource:a,children:[Object(b.jsx)(be,{title:"Work Name",render:function(t){return Object(b.jsx)(H.b,{children:Object(b.jsx)("a",{onClick:function(){return e.viewWorkDetails(t)},children:e.workName(t)})})}},"work_name"),Object(b.jsx)(be,{title:"Work Date",dataIndex:"work_date",render:function(e){return k()(e).format("DD MMM YYYY")}},"work_date"),Object(b.jsx)(be,{title:"Work Type",dataIndex:"work_type"},"work_type"),Object(b.jsx)(be,{title:"Estimate Amount",dataIndex:"work_estimate"},"work_estimate")]}),s?Object(b.jsx)($,{visible:s,onClose:this.viewWorkDetailsClose,workData:r}):null]})}}]),a}(n.Component),me=D.a.TabPane,pe=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleTabChange=function(t){e.setState({activeTab:t})},e.changeTab=function(t){e.setState({activeTab:t})},e.state={activeTab:"work-details"},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.activeTab;return Object(b.jsxs)(D.a,{activeKey:e,onChange:this.handleTabChange,children:[Object(b.jsx)(me,{tab:"Work Detalis",children:"work-details"===e&&Object(b.jsx)(ue,{changeTab:this.changeTab})},"work-details"),Object(b.jsx)(me,{tab:"Work Registration",children:"work-reg"===e&&Object(b.jsx)(B,{changeTab:this.changeTab})},"work-reg"),Object(b.jsx)(me,{tab:"Search Work",children:"work-search"===e&&Object(b.jsx)(fe,{changeTab:this.changeTab})},"work-search")]})}}]),a}(n.Component),Oe={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},ge={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},xe=function(e){var t=_.a.useForm(),a=Object(C.a)(t,1)[0];return Object(b.jsxs)(_.a,Object(S.a)(Object(S.a)({},Oe),{},{form:a,name:"staffregistration",onFinish:function(t){N.a.post("http://localhost:4000/v1.0/staff-management/createstaff",{staffName:t.name,staffMobileNo:t.mobileNo},{headers:{"Content-Type":"application/json"}}).then((function(t){201===t.status&&(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.changeTab("staff-details"))})).catch((function(e){var t=e.response;I.a.open({message:t.data.message,icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},scrollToFirstError:!0,children:[Object(b.jsx)(_.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input full name!"}],children:Object(b.jsx)(Y.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"mobileNo",label:"Mobile No",rules:[{required:!0,message:"Please input mobile number!"}],children:Object(b.jsx)(Y.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},ge),{},{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))},ye=a(101),ve=(a(339),{labelCol:{span:8},wrapperCol:{span:16}}),ke={wrapperCol:{offset:8,span:16}},we=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handlePayments=function(t){var a=e.props.staffData.staff_id,n=k()(new Date(t.date)).format("YYYY-MM-DD HH:mm");N.a.post("http://localhost:4000/v1.0/staff-management/createPayments/".concat(a),{date:n,amount:t.amount,description:t.description}).then((function(t){201===t.status?(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.formRef.current.resetFields(),e.getOutstandingBalance()):I.a.open({message:"ERROR ON PROCESSING",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},e.state={outstandingBalance:0},e.formRef=s.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getOutstandingBalance()}},{key:"getOutstandingBalance",value:function(){var e=this,t=this.props.staffData.staff_id;N.a.get("http://localhost:4000/v1.0/staff-management/outstandingBalance/".concat(t)).then((function(t){e.setState({outstandingBalance:t.data.outstandingBalance})}))}},{key:"getStyle",value:function(){return this.state.outstandingBalance<0?"#cf1322":"#3f8600"}},{key:"render",value:function(){var e=this.state.outstandingBalance;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(G.a,{width:800,placement:"right",closable:!0,onClose:this.props.onClose,visible:this.props.visible,title:this.props.staffData.staff_name,children:[Object(b.jsx)("div",{children:Object(b.jsx)(V.a,{gutter:16,children:Object(b.jsx)(J.a,{span:12,children:Object(b.jsx)(Q.a,{className:"statistic-card",children:Object(b.jsx)(X.a,{title:"Outstanding Balance",value:e,precision:2,valueStyle:{color:this.getStyle(),borderBlockStyle:"none"},prefix:"\u20b9"})})})})}),Object(b.jsxs)("div",{className:"payments",children:[Object(b.jsx)("h3",{children:"Make Payments"}),Object(b.jsx)(ee.a,{}),Object(b.jsxs)(_.a,Object(S.a)(Object(S.a)({},ve),{},{layout:"horizontal",name:"addPayments",onFinish:this.handlePayments,ref:this.formRef,children:[Object(b.jsx)(_.a.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please input date!"}],children:Object(b.jsx)(R.a,{format:"DD-MM-YYYY",style:{width:350}})}),Object(b.jsx)(_.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input amount!"}],children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input description!"}],children:Object(b.jsx)(Y.a,{placeholder:"Description",style:{width:350}})}),Object(b.jsx)(_.a.Item,Object(S.a)(Object(S.a)({},ke),{},{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Add"})}))]}))]})]})})}}]),a}(n.Component),De=R.a.RangePicker,Se=K.a.Column,Ce=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleTrackEarnings=function(t){if(t.dateRange){var a=e.props.staffData.staff_id,n=k()(new Date(t.dateRange[0])).format("YYYY-MM-DD"),s=k()(new Date(t.dateRange[1])).format("YYYY-MM-DD");N.a.get("http://localhost:4000/v1.0/staff-management/earnings/".concat(a),{params:{dateFrom:n,dateTo:s}}).then((function(t){e.setState({earnings:t.data.earnings})}))}},e.state={earnings:[]},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.earnings;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(G.a,{width:800,placement:"right",closable:!0,onClose:this.props.onClose,visible:this.props.visible,title:"Earnings of ".concat(this.props.staffData.staff_name),children:[Object(b.jsxs)(_.a,{name:"dateRange",layout:"inline",onFinish:this.handleTrackEarnings,children:[Object(b.jsx)(_.a.Item,{name:"dateRange",label:"Date Range",children:Object(b.jsx)(De,{})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee.a,{orientation:"left",children:"Earnings Log"}),Object(b.jsxs)(K.a,{rowKey:function(e){return e.entry_id},dataSource:e,bordered:!0,children:[Object(b.jsx)(Se,{title:"Work Date",dataIndex:"work_date",render:function(e){return k()(e).format("DD MMM YYYY")}},"work_date"),Object(b.jsx)(Se,{title:"Work Name",render:function(e){return"".concat(e.work_name," (").concat(e.work_place,")")}},"work_name"),Object(b.jsx)(Se,{title:"Work Type",dataIndex:"work_type"},"work_type"),Object(b.jsx)(Se,{title:"Amount",dataIndex:"amount"},"amount")]})]})]})})}}]),a}(n.Component),Te=R.a.RangePicker,_e=K.a.Column,Ie=z.a.confirm,Ye=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleTrackPayments=function(t){if(t.dateRange){var a=e.props.staffData.staff_id,n=k()(new Date(t.dateRange[0])).format("YYYY-MM-DD"),s=k()(new Date(t.dateRange[1])).format("YYYY-MM-DD");e.setState({dateFrom:n,dateTo:s}),N.a.get("http://localhost:4000/v1.0/staff-management/payments/".concat(a),{params:{dateFrom:n,dateTo:s}}).then((function(t){var a;200===t.status&&(a=0===t.data.payments.length?"No Data found for the dates":t.data.message,I.a.open({message:a,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.setState({payments:t.data.payments}))}))}},e.refreshTrackPayments=function(){var t=e.state,a=t.dateFrom,n=t.dateTo,s=e.props.staffData.staff_id;N.a.get("http://localhost:4000/v1.0/staff-management/payments/".concat(s),{params:{dateFrom:a,dateTo:n}}).then((function(t){e.setState({payments:t.data.payments})}))},e.confirmDeleteStaffPayment=function(t){Ie({title:"Are you sure delete this payment?",icon:Object(b.jsx)(U.a,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){return e.deleteStaffPayment(t)}})},e.deleteStaffPayment=function(t){var a=t.staff_id,n=t.entry_id;N.a.post("http://localhost:4000/v1.0/staff-management/deletePayment/".concat(a),{entryId:n}).then((function(t){201===t.status&&(I.a.open({message:t.data.message,icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}),e.refreshTrackPayments())}))},e.state={payments:[],dateFrom:"",dateTo:""},e}return Object(o.a)(a,[{key:"viewAuction",value:function(e){var t=this;return Object(b.jsx)(H.b,{size:"middle",children:Object(b.jsx)("a",{onClick:function(){return t.confirmDeleteStaffPayment(e)},children:"Delete"})})}},{key:"render",value:function(){var e=this,t=this.state.payments;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(G.a,{width:800,placement:"right",closable:!0,onClose:this.props.onClose,visible:this.props.visible,title:"Payments for ".concat(this.props.staffData.staff_name),children:[Object(b.jsxs)(_.a,{name:"dateRange",layout:"inline",onFinish:this.handleTrackPayments,children:[Object(b.jsx)(_.a.Item,{name:"dateRange",label:"Date Range",children:Object(b.jsx)(Te,{})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ee.a,{orientation:"left",children:"Payments Log"}),Object(b.jsxs)(K.a,{rowKey:function(e){return e.entry_id},dataSource:t,bordered:!0,children:[Object(b.jsx)(_e,{title:"Payment Date",dataIndex:"payment_date",render:function(e){return k()(e).format("DD MMM YYYY")}},"payment_date"),Object(b.jsx)(_e,{title:"Amount",dataIndex:"amount"},"amount"),Object(b.jsx)(_e,{title:"Description",dataIndex:"description"},"description"),Object(b.jsx)(_e,{title:"Actions",render:function(t){return e.viewAuction(t)}},"action")]})]})]})})}}]),a}(n.Component),Re=K.a.Column,Me=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).closeAllDrawer=function(){e.setState({visibleStaffDetails:!1,visibleTrackEarnings:!1,visibleTrackPayments:!1,staffData:[]})},e.state={staffDetails:[],isLoading:!0,staffData:[],visibleStaffDetails:!1,visibleTrackEarnings:!1,visibleTrackPayments:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get("http://localhost:4000/v1.0/staff-management/staffdetails").then((function(t){200===t.status&&e.setState({staffDetails:t.data.staffDetails,isLoading:!1})}))}},{key:"openDrawer",value:function(e,t){var a;this.setState((a={},Object(ye.a)(a,t,!0),Object(ye.a)(a,"staffData",e),a))}},{key:"viewAuction",value:function(e){var t=this;return Object(b.jsxs)(H.b,{size:"middle",children:[Object(b.jsx)("a",{onClick:function(){return t.openDrawer(e,"visibleTrackEarnings")},children:"Track Earnings"}),Object(b.jsx)("a",{onClick:function(){return t.openDrawer(e,"visibleTrackPayments")},children:"Track Payments"})]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.staffDetails,n=t.isLoading,s=t.visibleStaffDetails,r=t.visibleTrackEarnings,i=t.visibleTrackPayments,c=t.staffData;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(K.a,{rowKey:function(e){return e.staff_id},loading:n,dataSource:a,children:[Object(b.jsx)(Re,{title:"Full Name",render:function(t){return Object(b.jsx)(H.b,{children:Object(b.jsx)("a",{onClick:function(){return e.openDrawer(t,"visibleStaffDetails")},children:t.staff_name})})}},"staff_name"),Object(b.jsx)(Re,{title:"Mobile No",dataIndex:"staff_phone_no"},"staff_phone_no"),Object(b.jsx)(Re,{title:"Actions",render:function(t){return e.viewAuction(t)}},"action")]}),s?Object(b.jsx)(we,{visible:s,onClose:this.closeAllDrawer,staffData:c}):null,r?Object(b.jsx)(Ce,{visible:r,onClose:this.closeAllDrawer,staffData:c}):null,i?Object(b.jsx)(Ye,{visible:i,onClose:this.closeAllDrawer,staffData:c}):null]})}}]),a}(n.Component),Ee=D.a.TabPane,Pe=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleTabChange=function(t){e.setState({activeTab:t})},e.changeTab=function(t){e.setState({activeTab:t})},e.state={activeTab:"staff-details"},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.activeTab;return Object(b.jsxs)(D.a,{activeKey:e,onChange:this.handleTabChange,children:[Object(b.jsx)(Ee,{tab:"Staff List",children:"staff-details"===e&&Object(b.jsx)(Me,{changeTab:this.changeTab})},"staff-details"),Object(b.jsx)(Ee,{tab:"Staff Registration",children:"staff-reg"===e&&Object(b.jsx)(xe,{changeTab:this.changeTab})},"staff-reg")]})}}]),a}(n.Component),Fe=function(){var e=_.a.useForm(),t=Object(C.a)(e,1)[0],a=Object(n.useState)([]),s=Object(C.a)(a,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){N.a.get("http://localhost:4000/v1.0/settings/basicconfig").then((function(e){200===e.status&&(console.log(e),t.setFieldsValue({sqftCharge:r.sqft_charge,fullWorkCharge:r.total_labour_charge,setupCharge:r.setup_labour_charge,phaseoutCharge:r.phaseout_labour_charge,stageTotalCharge:r.stage_total_labour_charge,stageSetupCharge:r.stage_setup_labour_charge,stageFaceoutCharge:r.stage_phaseout_labour_charge}),i(e.data.basicConfig))}))}),[r.phaseout_labour_charge,r.setup_labour_charge,r.sqft_charge,r.stage_phaseout_labour_charge,r.stage_setup_labour_charge,r.stage_total_labour_charge,r.total_labour_charge,t]),Object(b.jsxs)(_.a,{name:"basiConfig",form:t,onFinish:function(e){N.a.post("http://localhost:4000/v1.0/settings/basicconfig",{sqftCharge:e.sqftCharge,fullWorkCharge:e.fullWorkCharge,setupCharge:e.setupCharge,phaseoutCharge:e.phaseoutCharge,stageTotalCharge:e.stageTotalCharge,stageSetupCharge:e.stageSetupCharge,stageFaceoutCharge:e.stageFaceoutCharge},{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?I.a.open({message:"Basic Settings Updated",icon:Object(b.jsx)(P.a,{style:{color:"#a0d911"}})}):I.a.open({message:"ERROR",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},layout:"vertical",children:[Object(b.jsx)(ee.a,{orientation:"left",children:"Panthal Rates"}),Object(b.jsx)(_.a.Item,{name:"sqftCharge",label:"Sq.ft Charge",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"fullWorkCharge",label:"Full Work Charge/sq.ft",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"setupCharge",label:"Setup Charge/sq.ft",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"phaseoutCharge",label:"Phaseout Charge/sq.ft",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(ee.a,{orientation:"left",children:"Stage Rates"}),Object(b.jsx)(_.a.Item,{name:"stageTotalCharge",label:"Total Work Charge/per event",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"stageSetupCharge",label:"Setup Charge/per event",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{name:"stageFaceoutCharge",label:"Phaseout Charge/per event",children:Object(b.jsx)(M.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{htmlType:"submit",type:"primary",children:"Update Information"})})]})},We=function(){var e=_.a.useForm(),t=Object(C.a)(e,1)[0],a=Object(n.useState)([]),s=Object(C.a)(a,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){N.a.get("http://localhost:4000/v1.0/settings/account").then((function(e){200===e.status&&(t.setFieldsValue({username:r.username,password:r.password}),i(e.data.accountSettings))}))}),[r.password,r.username,t]),Object(b.jsxs)(_.a,{form:t,layout:"vertical",children:[Object(b.jsx)(_.a.Item,{label:"User Name",name:"username",children:Object(b.jsx)(Y.a,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{label:"Password",name:"password",children:Object(b.jsx)(Y.a.Password,{style:{width:350}})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"primary",children:"Update Information"})})]})},Ne=D.a.TabPane,Ae=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={activeTab:"account"},e.handleTabChange=function(t){e.setState({activeTab:t})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.activeTab;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(D.a,{activeKey:e,onChange:this.handleTabChange,tabPosition:"left",style:{minHeight:"60vh"},children:[Object(b.jsxs)(Ne,{tab:"Account Settings",children:[Object(b.jsx)("h1",{children:"Account Settings"}),"account"===e&&Object(b.jsx)(We,{})]},"account"),Object(b.jsxs)(Ne,{tab:"Basic Settings",children:[Object(b.jsx)("h1",{children:"Basic Settings"}),"basic"===e&&Object(b.jsx)(Fe,{})]},"basic")]})})}}]),a}(n.Component),qe=function(){var e=m.a.Header,t=m.a.Content,a=m.a.Sider,s=m.a.Footer;return Object(n.useEffect)((function(){document.title="Delicia Event Desk"}),[]),Object(b.jsxs)(m.a,{style:{minHeight:"100vh"},children:[Object(b.jsx)(a,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(b.jsxs)(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["work"],children:[Object(b.jsx)(p.a.Item,{icon:Object(b.jsx)(O.a,{}),children:Object(b.jsx)(u.b,{to:"/",children:"Work Management"})},"work"),Object(b.jsx)(p.a.Item,{icon:Object(b.jsx)(g.a,{}),children:Object(b.jsx)(u.b,{to:"staffmanagement",children:"Staff Management"})},"staff"),Object(b.jsx)(p.a.Item,{icon:Object(b.jsx)(x.a,{}),children:Object(b.jsx)(u.b,{to:"settings",children:"Settings"})},"settings")]})}),Object(b.jsxs)(m.a,{style:{marginLeft:200},children:[Object(b.jsx)(e,{style:{position:"fixed",zIndex:1,width:"100%",padding:0,backgroundColor:"#fff"},children:Object(b.jsx)("div",{style:{marginLeft:20,display:"block"},children:Object(b.jsxs)("h2",{children:[Object(b.jsx)(y.a,{}),k()().format("DD MMM YYYY")]})})}),Object(b.jsx)(t,{style:{padding:"0 30px",marginTop:90},children:Object(b.jsx)("div",{style:{padding:24,minHeight:360,backgroundColor:"#fff"},children:Object(b.jsxs)(h.d,{children:[Object(b.jsx)(f,{path:"/",element:Object(b.jsx)(pe,{})}),Object(b.jsx)(f,{path:"staffmanagement",element:Object(b.jsx)(Pe,{})}),Object(b.jsx)(f,{path:"settings",element:Object(b.jsx)(Ae,{})})]})})}),Object(b.jsxs)(s,{style:{textAlign:"center"},children:[Object(b.jsx)("p",{children:"nithin.antony@outook.in"}),Object(b.jsxs)("p",{children:["version ",w.version]})]})]})]})},Le=a(359),Be=a(360),Ke=(a(340),m.a.Footer),ze=function(){var e=Object(n.useState)("Login"),t=Object(C.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(C.a)(r,2),c=i[0],o=i[1];Object(n.useEffect)((function(){document.title="Login - Delicia Event Desk"}));var l=Object(h.h)();return Object(b.jsxs)(m.a,{style:{minHeight:"100vh"},children:[Object(b.jsx)(V.a,{type:"flex",justify:"center",align:"middle",children:Object(b.jsx)("div",{className:"app-head",style:{marginTop:50},children:Object(b.jsx)("h1",{children:"Delicia Event Desk"})})}),Object(b.jsx)(V.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"50vh"},children:Object(b.jsxs)(_.a,{name:"userLogin",className:"form",onFinish:function(e){s("Logging"),o(!0),N.a.post("http://localhost:4000/v1.0/user/login",{userName:e.userName,userPassword:e.userPassword},{headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&(localStorage.setItem("isAuthenticated",!0),l("/coreapp"))})).catch((function(e){s("Login"),o(!1),I.a.open({message:"LOGIN ERROR",icon:Object(b.jsx)(F.a,{style:{color:"#f5222d"}})})}))},children:[Object(b.jsx)(_.a.Item,{name:"userName",validateTrigger:"onBlur",rules:[{required:!0,message:"please input your username!"}],children:Object(b.jsx)(Y.a,{size:"large",prefix:Object(b.jsx)(Le.a,{}),placeholder:"username"})}),Object(b.jsx)(_.a.Item,{name:"userPassword",validateTrigger:"onBlur",rules:[{required:!0,message:"please input your password!"}],children:Object(b.jsx)(Y.a.Password,{prefix:Object(b.jsx)(Be.a,{}),size:"large",placeholder:"password"})}),Object(b.jsx)(_.a.Item,{children:Object(b.jsx)(E.a,{type:"primary",htmlType:"submit",size:"large",className:"login-button",loading:c,children:a})})]})}),Object(b.jsxs)(Ke,{style:{textAlign:"center"},children:[Object(b.jsx)("p",{children:"nithin.antony@outlook.in \xa92021"}),Object(b.jsxs)("p",{children:["version ",w.version]})]})]})},He=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleUnload=e.handleUnload.bind(Object(l.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleUnload)}},{key:"handleUnload",value:function(){localStorage.clear()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleUnload)}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.a,{children:Object(b.jsxs)(h.d,{children:[Object(b.jsx)(f,{exact:!0,path:"/",element:Object(b.jsx)(h.a,{to:"/coreapp",replace:!0})}),Object(b.jsx)(h.b,{exact:!0,path:"/login",element:Object(b.jsx)(ze,{})}),Object(b.jsx)(f,{exact:!0,path:"/coreapp/*",element:Object(b.jsx)(qe,{})})]})})})}}]),a}(n.Component),Ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,361)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(He,{})}),document.getElementById("root")),Ue()}},[[341,1,2]]]);
//# sourceMappingURL=main.8cd9b9ab.chunk.js.map